# ダブルポインタ
- ポインターを指すポインターのことで、ポインターのアドレスが代入される
  
## 使い方
以下のコードを例する。  
```c
#include<stdio.h>;

void main(void) {
	/*通常のダブルポインタ*/
	int a = 1234;
	int* pa = &a;
	int** ppa = &pa;

	printf("ppaの値 = %p\n", ppa);			//自分の値 ＝ ポインタのアドレス
	printf("ppaのアドレス = %p\n", &ppa);	//自分のアドレス
	printf("paの値 = %p\n", *ppa);			//ポインターの値 ＝ 変数のアドレス
	printf("paのアドレス = %p\n", ppa);		//ポインターのアドレス ＝ 自分の値
	printf("aの値 = %d\n", **ppa);			//変数の値
	printf("aの値 = %d\n", *(*ppa));		//変数の値
	printf("aのアドレス = %p\n", *ppa);		//変数のアドレス ＝ ポインターの値
}
```
- `int型変数a`に初期値で1234を代入して宣言
- `int型ポインタpa`を`aのポインタ`として宣言
- `int型ダブルポインタppa`を`paのポインタ`、`aのダブルポインタ`として宣言
  
### ダブルポインタ使い方
- ダブルポインター`ppa`を使って各値とアドレスを取得する。  
- 取得したい値とアドレスを整理すると以下の通り
  - ppaの値
  - ppaのアドレス
  - paの値
  - paのアドレス
  - aの値
  - aのアドレス

- 具体的な扱い方
| 取得したい内容 | 操　作 | 備　考 |
| --- | --- | --- |
| ppaの値 | ppa | ppaの値 = paのアドレス |
| ppaのアドレス | &ppa |  |
| paの値 | *ppa | paの値 = aのアドレス |
| paのアドレス | ppa | paのアドレス = ppaの値 |
| aの値 | *(p) or **p |  |
| aのアドレス | *pp | aのアドレス = paの値 |  
  
<br>  
  
## 【発展】配列・ポインタ配列・ダブルポインタ
以下のようなコードがあったときのダブルポインタの使い方
```c
#include<stdio.h>

void main(void){
	int b[3][3] = {
		{10,20,30},
		{40,50,60},
		{70,80,90}
	};
	int* pb[3] = { b[0],b[1],b[2] };
	int** ppb = pb;
}
```
- `int型二次元配列b`を3*3で宣言
- `int型ポインタ配列pb`を`bのポインタ`として宣言
- `int型ダブルポインタppa`を`pbのポインタ`、`bのダブルポインタ`として宣言

### 取扱い
| 取得したい内容 | 操　作 | 備　考 |
| --- | --- | --- |
| ppbの値 | ppb, ppb + 0, (ppb), (ppb + 0), (ppb + 0) + 0 | ppbの値 = pb[]の先頭アドレス |
| ppbのメモリ | &ppb |  |
| pb[0]の値 | ppb[0], ppb[0] + 0, (ppb[0]), (ppb[0]) + 0, *ppb , *ppb + 0, *(ppb), *(ppb + 0), *(ppb + 0) + 0, (*ppb), (*ppb + 0), (*ppb + 0) + 0 | pb[0]の値 = b[0][]の先頭アドレス |
| pb[1]の値 | ppb[1], ppb[1] + 0, (ppb[1]), (ppb[1]) + 0, *ppb + 1, *(ppb + 1), *(ppb + 1) + 0, (*ppb + 1), (*ppb + 1) + 0 | pb[1]の値 = b[1][]の先頭アドレス |
| pb[2]の値 | ppb[2], ppb[2] + 0, (ppb[2]), (ppb[2]) + 0, *ppb + 2, *(ppb + 2), *(ppb + 2) + 0, (*ppb + 2), (*ppb + 2) + 0 | pb[2]の値 = b[2][]の先頭アドレス |
| pb[0]のアドレス | ppb, ppb + 0, (ppb), (ppb + 0)| pb[0]のアドレス = ppbの値 |
| pb[1]のアドレス | ppb + 1, (ppb + 1) |  |
| pb[2]のアドレス | ppb + 2, (ppb + 2) |  |
| b[0][0]の値 | *ppb[0], *ppb[0] + 0, *(ppb[0]), *(ppb[0]) + 0, (*ppb[i]), (*ppb[i]) + 0, **ppb, **ppb + 0, **(ppb), **(ppb + 0), **(ppb + 0) + 0, (**ppb), (**ppb + 0), (ppb** + 0) + 0, *(*ppb), *(*ppb + 0), *(*ppb + 0) + 0 |  |
| b[0][1]の値 | *ppb[0] + 1, *(ppb[0]) + 1, (*ppb[0]) + 1, **(ppb + 0) + 1, *(*ppb + 0) + 1 |  |
| b[0][2]の値 | *ppb[0] + 2, *(ppb[0]) + 2, (*ppb[0]) + 2, **(ppb + 0) + 2, *(*ppb + 0) + 2 |  |
| b[1][0]の値 | *ppb[1], *ppb[1] + 0, *(ppb[1]), *(ppb[1]) + 0, (*ppb[1]), (*ppb[1]) + 0, **ppb + 1, **(ppb + 1), **(ppb + 1) + 0, *(*ppb + 1), *(*ppb + 1) + 0 |  |
| b[1][1]の値 | *ppb[1] + 1, *(ppb[1]) + 1, (*ppb[1]) + 1, **(ppb + 1) + 1, *(*ppb + 1) + 1 |  |
| b[1][2]の値 | *ppb[1] + 2, *(ppb[1]) + 2, (*ppb[1]) + 2, **(ppb + 1) + 2, *(*ppb + 1) + 2 |  |
| b[2][0]の値 | *ppb[2], *ppb[2] + 0, *(ppb[2]), *(ppb[2]) + 0, (*ppb[2]), (*ppb[2]) + 0, **ppb + 2, **(ppb + 2), **(ppb + 2) + 0, *(*ppb + 2), *(*ppb + 2) + 0 |  |
| b[2][1]の値 | *ppb[2] + 1, *(ppb[2]) + 1, (*ppb[2]) + 1, **(ppb + 2) + 1, *(*ppb + 2) + 1 |  |
| b[2][2]の値 | *ppb[2] + 2, *(ppb[2]) + 2, (*ppb[2]) + 2, **(ppb + 2) + 2, *(*ppb + 2) + 2 |  |
| b[0][0]のアドレス | ppb[0], ppb[0] + 0, (ppb[0]), *ppb , *ppb + 0, *(ppb), *(ppb + 0), *(ppb + 0) + 0, (*ppb), (*ppb + 0), (*ppb + 0) + 0 |  |
| b[0][1]のアドレス | ppb[0] + 1, (ppb[0]) + 1, *(ppb + 0) + 1, (*ppb + 0) + 1 | b[0][0]のアドレス = pb[0]の値 |
| b[0][2]のアドレス | ppb[0] + 2, (ppb[0]) + 2, *(ppb + 0) + 2, (*ppb + 0) + 2 |  |
| b[1][0]のアドレス | ppb[1], ppb[1] + 0, (ppb[1]), *ppb + 1, *(ppb + 1), *(ppb + 1) + 0, (*ppb + 1), (*ppb + 1) + 0 | b[1][0]のアドレス = pb[1]の値 |
| b[1][1]のアドレス | ppb[1] + 1, (ppb[1]) + 1, *(ppb + 1) + 1, (*ppb + 1) + 1 |  |
| b[1][2]のアドレス | ppb[1] + 2, (ppb[1]) + 2, *(ppb + 1) + 2, (*ppb + 1) + 2 |  |
| b[2][0]のアドレス | ppb[2], ppb[2] + 0, (ppb[2]), *ppb + 2, *(ppb + 2), *(ppb + 2) + 0, (*ppb + 2), (*ppb + 2) + 0 | b[2][0]のアドレス = pb[2]の値 |
| b[2][1]のアドレス | ppb[2] + 1, (ppb[2]) + 1, *(ppb + 2) + 1, (*ppb + 2) + 1 |  |
| b[2][2]のアドレス | ppb[2] + 2, (ppb[2]) + 2, *(ppb + 2) + 2, (*ppb + 2) + 2 |  |
|  |  |  |

```c
#include<stdio.h>

void main(void){
	int b[3][3] = {
		{10,20,30},
		{40,50,60},
		{70,80,90}
	};
	int* pb[3] = { b[0],b[1],b[2] };
	int** ppb = pb;

	int i, j;
	printf("ppbの値 = %p\n", ppb);
	for (i = 0; i < 3; i++){
		printf("ppb + %dの値 = %p\n", i, ppb + i);
	}
	printf("\n");

	printf("(ppb)の値 = %p\n", (ppb));
	for (i = 0; i < 3; i++) {
		printf("(ppb + %d)の値 = %p\n", i, (ppb + i));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("(ppb + %d) + %dの値 = %p\n", i, j, (ppb + i) + j);
		}
	}
	printf("\n");

	for (i = 0; i < 3; i++) {
		printf("ppb[%d]の値 = %p\n", i, ppb[i]);
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("ppb[%d] + %dの値 = %p\n", i, j, ppb[i] + j);
		}
	}
	printf("\n");

	for (i = 0; i < 3; i++) {
		printf("(ppb[%d])の値 = %p\n", i, (ppb[i]));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("(ppb[%d]) + %dの値 = %p\n", i, j, (ppb[i]) + j);
		}
	}
	printf("\n");
	printf("\n");

	printf("*ppbの値 = %p\n", *ppb);
	for (i = 0; i < 3; i++) {
		printf("*ppb + %dの値 = %p\n", i, *ppb + i);
	}
	printf("\n");

	printf("*(ppb)の値 = %p\n", *(ppb));
	for (i = 0; i < 3; i++) {
		printf("*(ppb + %d)の値 = %p\n", i, *(ppb + i));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("*(ppb + %d) + %dの値 = %p\n", i, j, *(ppb + i) + j);
		}
	}
	printf("\n");

	printf("(*ppb)の値 = %p\n", (*ppb));
	for (i = 0; i < 3; i++) {
		printf("(*ppb + %d)の値 = %p\n", i, (*ppb + i));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("(*ppb + %d) + %dの値 = %p\n", i, j, (*ppb + i) + j);
		}
	}
	printf("\n");

	for (i = 0; i < 3; i++) {
		printf("*ppb[%d]の値 = %p\n", i, *ppb[i]);
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("*ppb[%d] + %dの値 = %p\n", i, j, *ppb[i] + j);
		}
	}
	printf("\n");

	for (i = 0; i < 3; i++) {
		printf("*(ppb[%d])の値 = %p\n", i, *(ppb[i]));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("*(ppb[%d]) + %dの値 = %p\n", i, j, *(ppb[i]) + j);
		}
	}
	printf("\n");

	for (i = 0; i < 3; i++) {
		printf("(*ppb[%d])の値 = %p\n", i, (*ppb[i]));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("(*ppb[%d]) + %dの値 = %p\n", i, j, (*ppb[i]) + j);
		}
	}
	printf("\n");
	printf("\n");

	printf("**ppbの値 = %p\n", **ppb);
	for (i = 0; i < 3; i++) {
		printf("**ppb + %dの値 = %p\n", i, **ppb + i);
	}
	printf("\n");

	printf("**(ppb)の値 = %p\n", **(ppb));
	for (i = 0; i < 3; i++) {
		printf("**(ppb + %d)の値 = %p\n", i, **(ppb + i));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("**(ppb + %d) + %dの値 = %p\n", i, j, **(ppb + i) + j);
		}
	}
	printf("\n");

	printf("(**ppb)の値 = %p\n", (**ppb));
	for (i = 0; i < 3; i++) {
		printf("(**ppb + %d)の値 = %p\n", i, (**ppb + i));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("(**ppb + %d) + %dの値 = %p\n", i, j, (**ppb + i) + j);
		}
	}
	printf("\n");

	printf("*(*ppb)の値 = %p\n", *(*ppb));
	for (i = 0; i < 3; i++) {
		printf("*(*ppb + %d)の値 = %p\n", i, *(*ppb + i));
	}
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 3; j++) {
			printf("*(*ppb + %d) + %dの値 = %p\n", i, j, *(*ppb + i) + j);
		}
	}
	printf("\n");

	//for (i = 0; i < 3; i++) {
	//	printf("**ppb[%d]の値 = %p\n", **ppb[i]);
	//}
	//for (i = 0; i < 3; i++) {
	//	for (j = 0; j < 3; j++) {
	//		printf("**ppb[%d] + %pの値 = %p\n", i, j, **ppb[i] + j);
	//	}
	//}
	//printf("\n");

	//for (i = 0; i < 3; i++) {
	//	printf("**(ppb[%d])の値 = %p\n", **(ppb[i]));
	//}
	//for (i = 0; i < 3; i++) {
	//	for (j = 0; j < 3; j++) {
	//		printf("**(ppb[%d]) + %dの値 = %p\n", i, j, **(ppb[i]) + j);
	//	}
	//}
	//printf("\n");

	//for (i = 0; i < 3; i++) {
	//	printf("(**ppb[%d])の値 = %p\n", (**ppb[i]));
	//}
	//for (i = 0; i < 3; i++) {
	//	for (j = 0; j < 3; j++) {
	//		printf("(**ppb[%d]) + %dの値 = %p\n", i, j, (**ppb[i]) + j);
	//	}
	//}
	//printf("\n");

	//for (i = 0; i < 3; i++) {
	//	printf("*(*ppb[%d])の値 = %p\n", *(*ppb[i]));
	//}
	//for (i = 0; i < 3; i++) {
	//	for (j = 0; j < 3; j++) {
	//		printf("*(*ppb[%d]) + %dの値 = %p\n", i, j, *(*ppb[i]) + j);
	//	}
	//}

}
```

  
